<%- include('partials/header') %>

    <div
        class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-200 via-blue-300 to-blue-400 px-4">
        <div
            class="backdrop-blur-md bg-white/30 border border-white/40 shadow-xl rounded-3xl px-8 py-10 w-full max-w-md space-y-6">
            <% userList.forEach(user=> { %>
                <h2 class="text-2xl font-bold text-slate-700 drop-shadow">
                    <%= user.name %> (<%= user.userType %>)
                </h2>

                <form action="/changeRole" method="POST" class="flex space-x-2">
                    <input type="hidden" name="email" value="<%= user.email %>">
                    <button type="submit" name="newRole" value="admin" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">
                        Promote to Admin
                    </button>
                    <button type="submit" name="newRole" value="member" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded">
                        Demote to Member
                    </button>
                </form>

                <% }) %>

                <% if (updatedUser) { %>
                    <h2 class="text-m  font-bold text-slate-700 drop-shadow">
                    <span class="text-red-600"><%= updatedUser %></span>'s access has been changed to <span class="text-red-600"><%= newRole %></span>
                    </h2>
                <% } %>
        </div>
    </div>

    <%- include('partials/footer') %>